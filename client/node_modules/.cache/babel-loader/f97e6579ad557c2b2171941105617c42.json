{"ast":null,"code":"import axios from 'axios';\nimport { baseUrl } from '../baseUrl';\nimport { GET_USER_RESULT, CALCULATION_ERROR, COMPUTE_RESULT } from './types';\nimport getStorage from \"../helpers/getStorage\";\n\nconst userResultsAction = results => ({\n  type: GET_USER_RESULT,\n  results\n});\n\nconst computeResultAction = calculation => ({\n  type: COMPUTE_RESULT,\n  calculation\n});\n\nconst calculationError = message => ({\n  type: CALCULATION_ERROR,\n  message\n});\n\nexport const userResults = () => async dispatch => {\n  const myToken = getStorage('token');\n  axios.defaults.headers.common['x-access-token'] = myToken;\n  return axios.get(`${baseUrl}/calculations`).then(({\n    data\n  }) => {\n    console.log(data);\n    dispatch(userResultsAction(data));\n  }).catch(({\n    message\n  }) => {\n    console.log(message);\n    dispatch(calculationError(message));\n  });\n};\nexport const computeResult = inputs => async dispatch => {\n  return axios.post(`${baseUrl}/calculations`, { ...inputs\n  }).then(({\n    data\n  }) => {\n    console.log(data);\n    dispatch(computeResultAction(data));\n  }).catch(({\n    message\n  }) => {\n    console.log(message);\n    dispatch(calculationError(message));\n  });\n};","map":{"version":3,"sources":["/Users/frosty/Documents/React-Project/nu-binary/src/actions/calculationAction.js"],"names":["axios","baseUrl","GET_USER_RESULT","CALCULATION_ERROR","COMPUTE_RESULT","getStorage","userResultsAction","results","type","computeResultAction","calculation","calculationError","message","userResults","dispatch","myToken","defaults","headers","common","get","then","data","console","log","catch","computeResult","inputs","post"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,YAAtB;AACA,SAASC,eAAT,EAA0BC,iBAA1B,EAA6CC,cAA7C,QAAmE,SAAnE;AACA,OAAOC,UAAP,MAAuB,uBAAvB;;AAEA,MAAMC,iBAAiB,GAAGC,OAAO,KAAK;AAAEC,EAAAA,IAAI,EAAEN,eAAR;AAAyBK,EAAAA;AAAzB,CAAL,CAAjC;;AACA,MAAME,mBAAmB,GAAGC,WAAW,KAAK;AAAEF,EAAAA,IAAI,EAAEJ,cAAR;AAAwBM,EAAAA;AAAxB,CAAL,CAAvC;;AACA,MAAMC,gBAAgB,GAAGC,OAAO,KAAK;AAAEJ,EAAAA,IAAI,EAAEL,iBAAR;AAA2BS,EAAAA;AAA3B,CAAL,CAAhC;;AAEA,OAAO,MAAMC,WAAW,GAAG,MAAM,MAAOC,QAAP,IAAoB;AACpD,QAAMC,OAAO,GAAGV,UAAU,CAAC,OAAD,CAA1B;AACAL,EAAAA,KAAK,CAACgB,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,gBAA9B,IAAkDH,OAAlD;AACA,SAAOf,KAAK,CAACmB,GAAN,CAAW,GAAElB,OAAQ,eAArB,EACLmB,IADK,CACA,CAAC;AAACC,IAAAA;AAAD,GAAD,KAAY;AACjBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAP,IAAAA,QAAQ,CAACR,iBAAiB,CAACe,IAAD,CAAlB,CAAR;AACA,GAJK,EAKLG,KALK,CAKC,CAAC;AAACZ,IAAAA;AAAD,GAAD,KAAe;AACrBU,IAAAA,OAAO,CAACC,GAAR,CAAYX,OAAZ;AACAE,IAAAA,QAAQ,CAACH,gBAAgB,CAACC,OAAD,CAAjB,CAAR;AACA,GARK,CAAP;AASA,CAZM;AAcP,OAAO,MAAMa,aAAa,GAAIC,MAAD,IAAY,MAAOZ,QAAP,IAAoB;AAC5D,SAAOd,KAAK,CAAC2B,IAAN,CAAY,GAAE1B,OAAQ,eAAtB,EAAsC,EAAE,GAAGyB;AAAL,GAAtC,EACLN,IADK,CACA,CAAC;AAACC,IAAAA;AAAD,GAAD,KAAY;AACjBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAP,IAAAA,QAAQ,CAACL,mBAAmB,CAACY,IAAD,CAApB,CAAR;AACA,GAJK,EAKLG,KALK,CAKC,CAAC;AAACZ,IAAAA;AAAD,GAAD,KAAe;AACrBU,IAAAA,OAAO,CAACC,GAAR,CAAYX,OAAZ;AACAE,IAAAA,QAAQ,CAACH,gBAAgB,CAACC,OAAD,CAAjB,CAAR;AACA,GARK,CAAP;AASA,CAVM","sourcesContent":["import axios from 'axios';\nimport {baseUrl} from '../baseUrl';\nimport { GET_USER_RESULT, CALCULATION_ERROR, COMPUTE_RESULT } from './types';\nimport getStorage from \"../helpers/getStorage\";\n\nconst userResultsAction = results => ({ type: GET_USER_RESULT, results });\nconst computeResultAction = calculation => ({ type: COMPUTE_RESULT, calculation });\nconst calculationError = message => ({ type: CALCULATION_ERROR, message });\n\nexport const userResults = () => async (dispatch) => {\n\tconst myToken = getStorage('token');\n\taxios.defaults.headers.common['x-access-token'] = myToken;\n\treturn axios.get(`${baseUrl}/calculations`)\n\t\t.then(({data}) => {\n\t\t\tconsole.log(data);\n\t\t\tdispatch(userResultsAction(data));\n\t\t})\n\t\t.catch(({message}) => {\n\t\t\tconsole.log(message);\n\t\t\tdispatch(calculationError(message));\n\t\t});\n};\n\nexport const computeResult = (inputs) => async (dispatch) => {\n\treturn axios.post(`${baseUrl}/calculations`, { ...inputs })\n\t\t.then(({data}) => {\n\t\t\tconsole.log(data);\n\t\t\tdispatch(computeResultAction(data));\n\t\t})\n\t\t.catch(({message}) => {\n\t\t\tconsole.log(message)\n\t\t\tdispatch(calculationError(message));\n\t\t});\n};\n"]},"metadata":{},"sourceType":"module"}